{"version":3,"sources":["usePanGestureProxy.ts"],"names":["useMemo","Gesture","useUpdateGestureConfig","usePanGestureProxy","customization","onConfigurePanGesture","onGestureStart","onGestureUpdate","onGestureEnd","options","gesture","Pan","originalGestures","onBegin","onStart","onUpdate","onEnd","onFinalize","userDefinedConflictGestures","undefined","fakeOnBegin","cb","fakeOnStart","fakeOnUpdate","fakeOnEnd","fakeOnFinalize","e","success"],"mappings":"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","sourcesContent":["import { useMemo } from \"react\";\nimport type { GestureStateChangeEvent, GestureUpdateEvent, PanGesture, PanGestureHandlerEventPayload } from \"react-native-gesture-handler\";\nimport { Gesture } from \"react-native-gesture-handler\";\n\nimport type { GestureConfig } from \"./useUpdateGestureConfig\";\nimport { useUpdateGestureConfig } from \"./useUpdateGestureConfig\";\n\nexport const usePanGestureProxy = (\n  customization: {\n    onConfigurePanGesture?: (gesture: PanGesture) => void\n    onGestureStart: (event: GestureStateChangeEvent<PanGestureHandlerEventPayload>) => void\n    onGestureUpdate: (event: GestureUpdateEvent<PanGestureHandlerEventPayload>) => void\n    onGestureEnd: (event: GestureStateChangeEvent<PanGestureHandlerEventPayload>, success: boolean) => void\n    options?: GestureConfig\n  },\n) => {\n  const {\n    onConfigurePanGesture,\n    onGestureStart,\n    onGestureUpdate,\n    onGestureEnd,\n    options = {},\n  } = customization;\n\n  const gesture = useMemo(() => {\n    const gesture = Gesture.Pan();\n\n    // Save the original gesture callbacks\n    const originalGestures = {\n      onBegin: gesture.onBegin,\n      onStart: gesture.onStart,\n      onUpdate: gesture.onUpdate,\n      onEnd: gesture.onEnd,\n      onFinalize: gesture.onFinalize,\n    };\n\n    // Save the user defined gesture callbacks\n    const userDefinedConflictGestures: {\n      onBegin?: Parameters<(typeof gesture)[\"onBegin\"]>[0]\n      onStart?: Parameters<(typeof gesture)[\"onStart\"]>[0]\n      onUpdate?: Parameters<(typeof gesture)[\"onUpdate\"]>[0]\n      onEnd?: Parameters<(typeof gesture)[\"onEnd\"]>[0]\n      onFinalize?: Parameters<(typeof gesture)[\"onFinalize\"]>[0]\n    } = {\n      onBegin: undefined,\n      onStart: undefined,\n      onUpdate: undefined,\n      onEnd: undefined,\n      onFinalize: undefined,\n    };\n\n    const fakeOnBegin: typeof gesture.onBegin = (cb) => {\n      // Using fakeOnBegin to save the user defined callback\n      userDefinedConflictGestures.onBegin = cb;\n      return gesture;\n    };\n\n    const fakeOnStart: typeof gesture.onStart = (cb) => {\n      // Using fakeOnStart to save the user defined callback\n      userDefinedConflictGestures.onStart = cb;\n      return gesture;\n    };\n\n    const fakeOnUpdate: typeof gesture.onUpdate = (cb) => {\n      // Using fakeOnUpdate to save the user defined callback\n      userDefinedConflictGestures.onUpdate = cb;\n      return gesture;\n    };\n\n    const fakeOnEnd: typeof gesture.onEnd = (cb) => {\n      // Using fakeOnEnd to save the user defined callback\n      userDefinedConflictGestures.onEnd = cb;\n      return gesture;\n    };\n\n    const fakeOnFinalize: typeof gesture.onFinalize = (cb) => {\n      // Using fakeOnFinalize to save the user defined callback\n      userDefinedConflictGestures.onFinalize = cb;\n      return gesture;\n    };\n\n    // Setup the fake callbacks\n    gesture.onBegin = fakeOnBegin;\n    gesture.onStart = fakeOnStart;\n    gesture.onUpdate = fakeOnUpdate;\n    gesture.onEnd = fakeOnEnd;\n    gesture.onFinalize = fakeOnFinalize;\n\n    if (onConfigurePanGesture)\n      // Get the gesture with the user defined configuration\n      onConfigurePanGesture(gesture);\n\n    // Restore the original callbacks\n    gesture.onBegin = originalGestures.onBegin;\n    gesture.onStart = originalGestures.onStart;\n    gesture.onUpdate = originalGestures.onUpdate;\n    gesture.onEnd = originalGestures.onEnd;\n    gesture.onFinalize = originalGestures.onFinalize;\n\n    // Setup the original callbacks with the user defined callbacks\n    gesture\n      .onBegin((e) => {\n        \"worklet\";\n\n        if (userDefinedConflictGestures.onBegin)\n          userDefinedConflictGestures.onBegin(e);\n      })\n      .onStart((e) => {\n        \"worklet\";\n        onGestureStart(e);\n\n        if (userDefinedConflictGestures.onStart)\n          userDefinedConflictGestures.onStart(e);\n      })\n      .onUpdate((e) => {\n        \"worklet\";\n        onGestureUpdate(e);\n\n        if (userDefinedConflictGestures.onUpdate)\n          userDefinedConflictGestures.onUpdate(e);\n      })\n      .onEnd((e, success) => {\n        \"worklet\";\n        onGestureEnd(e, success);\n\n        if (userDefinedConflictGestures.onEnd)\n          userDefinedConflictGestures.onEnd(e, success);\n      })\n      .onFinalize((e, success) => {\n        \"worklet\";\n\n        if (userDefinedConflictGestures.onFinalize)\n          userDefinedConflictGestures.onFinalize(e, success);\n      })\n    ;\n\n    return gesture;\n  }, [\n    onGestureStart,\n    onGestureUpdate,\n    onGestureEnd,\n    onConfigurePanGesture,\n  ]);\n\n  useUpdateGestureConfig(gesture, options);\n\n  return gesture;\n};\n"]}