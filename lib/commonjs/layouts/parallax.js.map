{"version":3,"sources":["parallax.ts"],"names":["parallaxLayout","baseConfig","modeConfig","size","vertical","parallaxScrollingOffset","parallaxScrollingScale","parallaxAdjacentItemScale","value","translate","zIndex","Extrapolate","CLAMP","scale","transform","translateY","translateX"],"mappings":";;;;;;;AAAA;;AAmCO,SAASA,cAAT,CACLC,UADK,EAGL;AAAA,MADAC,UACA,uEAD4B,EAC5B;AACA,QAAM;AAAEC,IAAAA,IAAF;AAAQC,IAAAA;AAAR,MAAqBH,UAA3B;AACA,QAAM;AACJI,IAAAA,uBAAuB,GAAG,GADtB;AAEJC,IAAAA,sBAAsB,GAAG,GAFrB;AAGJC,IAAAA,yBAAyB,GAAGD,sBAAsB,IAAI;AAHlD,MAIFJ,UAJJ;AAMA,SAAQM,KAAD,IAAmB;AACxB;;AACA,UAAMC,SAAS,GAAG,wCAChBD,KADgB,EAEhB,CAAC,CAAC,CAAF,EAAK,CAAL,EAAQ,CAAR,CAFgB,EAGhB,CAAC,CAACL,IAAD,GAAQE,uBAAT,EAAkC,CAAlC,EAAqCF,IAAI,GAAGE,uBAA5C,CAHgB,CAAlB;AAMA,UAAMK,MAAM,GAAG,wCACbF,KADa,EAEb,CAAC,CAAC,CAAF,EAAK,CAAL,EAAQ,CAAR,CAFa,EAGb,CAAC,CAAD,EAAIL,IAAJ,EAAU,CAAV,CAHa,EAIbQ,mCAAYC,KAJC,CAAf;AAOA,UAAMC,KAAK,GAAG,wCACZL,KADY,EAEZ,CAAC,CAAC,CAAF,EAAK,CAAL,EAAQ,CAAR,CAFY,EAGZ,CACED,yBADF,EAEED,sBAFF,EAGEC,yBAHF,CAHY,EAQZI,mCAAYC,KARA,CAAd;AAWA,WAAO;AACLE,MAAAA,SAAS,EAAE,CACTV,QAAQ,GACJ;AACAW,QAAAA,UAAU,EAAEN;AADZ,OADI,GAIJ;AACAO,QAAAA,UAAU,EAAEP;AADZ,OALK,EAQT;AACEI,QAAAA;AADF,OARS,CADN;AAaLH,MAAAA;AAbK,KAAP;AAeD,GAzCD;AA0CD","sourcesContent":["import { Extrapolate, interpolate } from \"react-native-reanimated\";\n\nimport type { IComputedDirectionTypes } from \"../types\";\n\ninterface TBaseConfig {\n  size: number\n  vertical: boolean\n}\n\nexport interface ILayoutConfig {\n  /**\n     * control prev/next item offset.\n     * @default 100\n     */\n  parallaxScrollingOffset?: number\n  /**\n     * control prev/current/next item offset.\n     * @default 0.8\n     */\n  parallaxScrollingScale?: number\n  /**\n     * control prev/next item offset.\n     * @default Math.pow(parallaxScrollingScale, 2)\n     */\n  parallaxAdjacentItemScale?: number\n}\n\nexport type TParallaxModeProps = IComputedDirectionTypes<{\n  /**\n     * Carousel Animated transitions.\n     */\n  mode?: \"parallax\"\n  modeConfig?: ILayoutConfig\n}>;\n\nexport function parallaxLayout(\n  baseConfig: TBaseConfig,\n  modeConfig: ILayoutConfig = {},\n) {\n  const { size, vertical } = baseConfig;\n  const {\n    parallaxScrollingOffset = 100,\n    parallaxScrollingScale = 0.8,\n    parallaxAdjacentItemScale = parallaxScrollingScale ** 2,\n  } = modeConfig;\n\n  return (value: number) => {\n    \"worklet\";\n    const translate = interpolate(\n      value,\n      [-1, 0, 1],\n      [-size + parallaxScrollingOffset, 0, size - parallaxScrollingOffset],\n    );\n\n    const zIndex = interpolate(\n      value,\n      [-1, 0, 1],\n      [0, size, 0],\n      Extrapolate.CLAMP,\n    );\n\n    const scale = interpolate(\n      value,\n      [-1, 0, 1],\n      [\n        parallaxAdjacentItemScale,\n        parallaxScrollingScale,\n        parallaxAdjacentItemScale,\n      ],\n      Extrapolate.CLAMP,\n    );\n\n    return {\n      transform: [\n        vertical\n          ? {\n            translateY: translate,\n          }\n          : {\n            translateX: translate,\n          },\n        {\n          scale,\n        },\n      ],\n      zIndex,\n    };\n  };\n}\n"]}